<ion-header>
  <ion-toolbar color="primary">
    <ion-title>GraysList</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-text color="primary">
    <h5 margin>{{ getDayName(today) }}, {{ today | date:"MMM dd, yyyy" }}</h5>
  </ion-text>
  <ion-list>
    <ion-item *ngFor="let task of tasks">
      <ion-grid>
        <ion-row>
          <ion-col size="8" no-padding>
            <h4 no-padding (click)="toggleCompleted(task.id)">{{ task.title }} </h4>
          </ion-col>
          <ion-col size="2" no-padding align-self-center>
            <ion-button *ngIf="!task.completed" ion-button color="warning" expand="block" (click)="showTaskCreator(task)">
              <ion-icon name="create"></ion-icon>
            </ion-button>
          </ion-col>
          <ion-col size="2" no-padding align-self-center>
            <ion-button ion-button color="danger" expand="block" (click)="deleteTask(task)">
              <ion-icon name="trash"></ion-icon>
            </ion-button>
          </ion-col>
        </ion-row>
        <ion-row *ngIf="task.completed">
          <ion-col text-right>
            <ion-text style="color: gray">completed by {{ task.completedBy }}</ion-text>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
  </ion-list>
  <ion-button (click)="showTaskCreator()" margin fill="outline">
    <ion-icon slot="start" name="add-circle-outline"></ion-icon>Add
  </ion-button>
</ion-content>